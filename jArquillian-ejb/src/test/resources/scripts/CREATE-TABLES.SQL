CREATE TABLE PRODUCT(
	ID_PRODUCT bigint NOT NULL,
	PRODUCT_NAME VARCHAR(80) NOT NULL,
	EXPIRATION_DATE TIMESTAMP,
	VERSION INT,
	REGISTER TIMESTAMP,
	PRIMARY KEY (ID_PRODUCT)
);

CREATE TABLE STOCK(
	ID_STOCK bigint NOT NULL,
	STOCK_SIZE bigint NOT NULL,
	ID_PRODUCT bigint,
	IN_STOCK TIMESTAMP,
	VERSION INT,
	REGISTER TIMESTAMP,
	CONSTRAINT PK_STOK PRIMARY KEY(ID_STOCK)
);

CREATE TABLE SELLING(
	ID_SELLING bigint,
	DATE_SELLING DATE,
	DISCOUNT numeric(8,2),
	VERSION INT,
	REGISTER TIMESTAMP,
	CONSTRAINT PK_SELLING PRIMARY KEY(ID_SELLING)
);

CREATE TABLE PRODUCT_SELLING(
	ID_SELLING bigint,
	ID_PRODUCT bigint,
	QTD_PRODUCTS NUMERIC(8,2) NOT NULL,
	VERSION INT,
	REGISTER TIMESTAMP,
	CONSTRAINT PK_PRODUCT_SELLING PRIMARY KEY(ID_SELLING, ID_PRODUCT),
	CONSTRAINT FK_PRODUCT_SELLING_ID_SELLING FOREIGN KEY (ID_SELLING) REFERENCES SELLING (ID_SELLING),
	CONSTRAINT FK_PRODUCT_SELLING_ID_PRODUCT FOREIGN KEY (ID_PRODUCT) REFERENCES PRODUCT (ID_PRODUCT)
);

CREATE TABLE PRODUCT_PRICE(
	ID_PRODUCT_PRICE bigint,
	ID_PRODUCT bigint,
	PRICE_VALUE bigint NOT NULL,
	STATUS VARCHAR(15),
	VERSION INT,
	REGISTER TIMESTAMP,
	CONSTRAINT PK_PRODUCT_PRICE PRIMARY KEY(ID_PRODUCT_PRICE),
	CONSTRAINT FK_PRODUCT_SELLING_ID_PRODUCT FOREIGN KEY (ID_PRODUCT) REFERENCES PRODUCT (ID_PRODUCT)
);

CREATE SEQUENCE ID_SELLING_SEQ
  START WITH 1
  INCREMENT BY 1
  MINVALUE 1;
  
CREATE SEQUENCE ID_STOCK_SEQ
  START WITH 1
  INCREMENT BY 1
  MINVALUE 1
  ;
  
CREATE SEQUENCE ID_PRODUCT_SEQ
  START WITH 1
  INCREMENT BY 1
  MINVALUE 1
  ;
  
  CREATE SEQUENCE PRODUCT_PRICE_SEQ
  START WITH 1
  INCREMENT BY 1
  MINVALUE 1
  ;